```
# AWS Infrastructure Provisioning with Crossplane and Kubernetes

This project provisions a complete AWS infrastructure stack â€” including an S3 bucket, VPC, and EKS cluster â€” using [Crossplane](https://crossplane.io/) from within a local Kubernetes cluster running on Minikube.

## ðŸ“Œ Features

- Local Kubernetes setup via Minikube
- Crossplane installed using Helm
- AWS S3 bucket with versioning enabled
- VPC with:
  - Public and private subnets in multiple AZs
  - NAT Gateway + Internet Gateway
  - Elastic IPs and custom route tables
- EKS Cluster provisioned via Crossplaneâ€™s AWS provider
- IAM roles and OIDC setup for secure Kubernetes-to-AWS integration

## ðŸ“¦ Tech Stack

- Kubernetes (Minikube)
- Crossplane
- Helm
- AWS (VPC, EKS, IAM, S3)
- YAML (K8s manifests)

## ðŸ›  Folder Structure

```bash
.
â”œâ”€â”€ aws-credentials.txt
â”œâ”€â”€ crossplane
â”‚   â”œâ”€â”€ provider-aws-config.yaml
â”‚   â”œâ”€â”€ provider-aws-ec2.yaml
â”‚   â”œâ”€â”€ provider-aws-eks.yaml
â”‚   â”œâ”€â”€ provider-aws-iam.yaml
â”‚   â””â”€â”€ provider-aws-s3.yaml
â”œâ”€â”€ eks
â”‚   â”œâ”€â”€ eks-iam-role.yaml
â”‚   â”œâ”€â”€ eks.yaml
â”‚   â”œâ”€â”€ nodes-iam.yaml
â”‚   â””â”€â”€ nodes.yaml
â”œâ”€â”€ readme.MD
â”œâ”€â”€ s3
â”‚   â”œâ”€â”€ bucket-versioning.yaml
â”‚   â””â”€â”€ my-bucket.yaml
â””â”€â”€ vpc
    â”œâ”€â”€ igw.yaml
    â”œâ”€â”€ nat.yaml
    â”œâ”€â”€ routes.yaml
    â”œâ”€â”€ subnets.yaml
    â””â”€â”€ vpc.yaml
```

## ðŸ“¸ Screenshots

![VPC Architecture Screenshot](./assets/vpc-screenshot.png)

## ðŸš€ Getting Started

1. Set up Minikube and Helm
2. Clone this repository
3. Configure AWS credentials as a Kubernetes Secret
4. Apply the manifests in order using `kubectl apply -f`

> Note: This setup is designed for learning/demo purposes and uses hardcoded values. For production, consider using Crossplane Compositions and Kustomize.

## ðŸ§  Learnings

This project helped me:
- Understand Kubernetes-native Infrastructure as Code
- Work with Crossplaneâ€™s reconciliation model
- Explore AWS resource provisioning without leaving K8s

## ðŸ“Ž References

- [Crossplane Documentation](https://docs.crossplane.io/)
- [AWS Crossplane Providers](https://marketplace.upbound.io/providers)

---

## ðŸ’¬ Feedback

Feel free to open issues or connect if you're working on something similar!
```
